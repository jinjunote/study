## 클러스터 아키텍처
쿠버네티스는 여러 대의 서버가 하나의 클러스터로 연결되어있다.  
쿠버네티스 클러스터를 직접 구축하거나 구입할 때 어떤 옵션이 있는지 이해하려면 기본 컴포넌트를 이해하고 서로 어떻게 연동되는지 알아야 한다.  

- 컨트롤 플레인
클러스터의 두뇌 역할을 하며 컨테이너 스케줄링, 서비스 관리, API 요청 처리 등의 작업을 수행한다.  
컨트롤 플레인 컴포넌트는 클러스터 내 마스터 노드에서 실행된다.  
컨트롤 플레인은 다음과 같은 컴포넌트로 구성된다.  

1. kube-apiserver  
컨트롤 플레인의 프런트엔드 서버로 API 요청을 처리한다.  
2. etcd  
어떤 노드가 존재하고, 클러스터에 어떤 리소스가 존재하는지와 같은 쿠버네티스와 관련된 모든 정보를 저장하는 데이터베이스다.  
3. kube-scheduler  
새로 생성된 파드(Pod)를 실행할 노드를 결정한다.  
4. kube-controller-manager  
디플로이먼트와 같은 리소스 컨트롤러를 관리한다.  
5. cloud-controller-manager  
클라우드 기반 클러스터는 클라우드 업체와 연동하여 로드 밸런서나 디스크 볼륨과 같은 자원을 관리한다.  

- 노드 컴포넌트
워커 노드는 클러스터 내에서 사용자의 워크로드를 실행한다. 쿠버네티스 클러스터의 각 워커 노드는 다음과 같은 컴포넌트를 실행한다.  
1. kubelet  
노드에 예약된 워크로드를 실행하기 위해 컨테이너 런타임을 관리하고 상태를 모니터링한다.  
2. kube-proxy  
서로 다른 노드에 있는 파드 간 통신이나 파드와 인터넷 사이의 네트워크 트래픽을 라우팅한다.  
3. 컨테이너 런타임  
컨테이너를 시작하고 중지하며 컨테이너 간 통신을 처리한다.  
일반적으로 도커가 사용되지만 쿠버네티스는 rkt나 CRI-O와 같은 다른 컨테이너 런타임도 지원한다.  
서로 다른 소프트웨어 컴포넌트를 실행하는 것 외에는 마스터 노드와 워커 노드 사이에 본질적인 차이는 없다.  
도커 데스크톱이나 미니쿠브와 같이 클러스터 크기가 매우 작은 경우를 제외하고는 마스터 노드는 일반적으로 사용자 워크로드를 실행하지 않는다.  
