## 첫번째 컨테이너 시작하기
- Window 10 pro에 도커 데스크톱 설치  
-> 설치 후에, CMD창에서 docker version 확인
- 컨테이너 이미지란?  
압축파일과 같다고 생각하면 됨. 바이너리 파일. 고유 ID를 가지며 컨테이너를 실행하는 데 필요한 모든 것을 담고 있음.  
컨테이너를 도커로 직접 실행하든지 쿠버네티스 클러스터에서 실행하든지 컨테이너 이미지에 ID나 URL을 지정해야 함.  
Ex) 컨테이너 이미지 이해 돕고자 데모 애플리케이션, 깃허브 저장소에서 데모 파일 다운로드한 뒤 다음 명령어 실행  
먼저 Git for Window 설치 (64-bit)  
[https://git-scm.com/download/win](https://git-scm.com/download/win)  
→ 설치 후에 git CMD 실행  
https://github.com/cloudnativedevops/demo  
#git clone https://github.com/cloudnativedevops/demo
![ex_screenshot](./img/Untitled.png)  
#docker container run -p 9999:8888 —name hello cloudnatived/demo:hello  
![ex_screenshot](./img/Untitled(1).png)  
명령어를 실행 중인 상태로 유지하고 브라우저에서 http://localhost:9999/에 접속   
![ex_screenshot](./img/Untitled(2).png)  
창닫아서 컨테이너 종료  
#docker images  
#docker ps -a
![ex_screenshot](./img/Untitled(3).png)  
#docker rm 149d0376fe85  
#docker ps -a (컨테이너 없어짐)  

## 컨테이너 빌드하기  
컨테이너 이미지 빌드는 docker image build 명령어를 사용한다.  
Dockerfile이란 특별한 텍스트 파일을 입력으로 받는다. 도커파일은 컨테이너 이미지가 포함할 것을 구체적으로 지정한다.  
컨테이너 이미지는 도커파일 내에 정의된다. 도커파일은 컨테이너를 빌드하는 명령어가 들어있는 텍스트 파일이다.  
컨테이너의 장점은 기존 이미지를 기반으로 새로운 이미지를 빌드할 수 있다는 것이다. 예를들어 우분투 운영체제가 포함된 컨테이너 이미지를 가져와서 원하는 파일을 추가하면 새로운 이미지가 생성된다.  
일반적으로 도커파일은 베이스 이미지라고 부르는 시작 이미지를 가져와 변환하여 새로운 이미지로 저장하는 명령을 담고 있다.  
- 빌드 단계가  필요한 이유?  
→  프로그램을 실행하기 위해 필요한 것은 데모 바이너리 파일이므로 도커 파일은 새로운 스크래치 컨테이너를 만들고, 그 안에 바이너리 파일을 집어넣는다.  

최종 이미지 파일은 약 6MiB로 매우 작다. 상용 환경에 배포하기 충분한 이미지 크기.  
빌드 단계가 없다면 최종 컨테이너 이미지는 약 350MiB, 그중 98%는 불필요하며 결코 사용되지 않을 공간.  
컨테이너 이미지 크기가 작을수록 업로드와 다운로드 속도가 빨라지며 실행 속도도 빠르다.  
또한 최소 컨테이너는 보안 문제를 일으킬 수 있는 attack surface을 줄여준다.   
Go는 컴파일된 언어이므로 독립적인 실행 파일을 생성할 수 있어서 최소 컨테이너(스크래치)를 작성하는데 이상적이다.  
Ex) hello 폴더에서 다음 명령어 실행  
#docker image build -t myhello .  
도커 이미지 생성시 인수 -t를 사용하면 편한 이름을 지정할 수 있다.  
![ex_screenshot](./img/Untitled(4).png)  
#docker images  
![ex_screenshot](./img/2021-12-15 14;50;27.PNG.png)  
